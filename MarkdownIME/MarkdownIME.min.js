!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.MarkdownIME=t():e.MarkdownIME=t()}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"setContextDocument",function(){return a}),n.d(r,"getContextDocument",function(){return l}),n.d(r,"findCaret",function(){return s}),n.d(r,"setCaret",function(){return c}),n.d(r,"setCaretAfter",function(){return u}),n.d(r,"getLineContainer",function(){return d}),n.d(r,"breakElement",function(){return _}),n.d(r,"findUpward",function(){return h}),n.d(r,"tidy",function(){return f}),n.d(r,"elt",function(){return p}),n.d(r,"makeBr",function(){return m}),n.d(r,"makeLine",function(){return g}),n.d(r,"replace",function(){return b}),n.d(r,"insertAfter",function(){return w}),n.d(r,"isTextNode",function(){return v}),n.d(r,"getViewport",function(){return y}),n.d(r,"scrollIntoViewIfNeeded",function(){return x});var o=window,i=window.document;function a(e){i=e||window.document,o=i.defaultView}function l(){return i}function s(){var e=i.getSelection(),t=e.anchorNode,n=e.anchorOffset;if(!e.isCollapsed||!t)return null;if(t.nodeType===Node.ELEMENT_NODE)return 0==n?t:t.childNodes[n-1];if(t.nodeType===Node.TEXT_NODE){var r=t.textContent;if(0==n)return t.previousSibling;if(r.length<=n)return t;t.textContent=r.slice(0,n);var o=i.createTextNode(r.slice(n));return t.parentNode.insertBefore(o,t.nextSibling),e.setPosition(t,n),t}return null}function c(e,t){var n=i.getSelection();n.isCollapsed||n.collapseToEnd(),n.setPosition(e,t||0),x(v(e)?e.parentNode:e)}function u(e){var t=e.parentNode;c(t,[].indexOf.call(t.childNodes,e)+1),x(v(e)?t:e)}function d(e){return h(e,function(e){return/^(?:div|p|h\d|pre|body|td|th|li|dt|dd|blockquote)$/i.test(e.nodeName)})}function _(e){if(e&&e.parentElement){for(var t=e.parentElement,n=i.createDocumentFragment();e.childNodes.length;)n.appendChild(e.childNodes[0]);t.insertBefore(n,e),t.removeChild(e)}}function h(e,t){for(;e;){if(t(e))return e;e=e.parentNode}return null}function f(e){for(var t=e.childNodes,n=0;n<t.length;n++){var r=t[n];if(r.nodeType===Node.TEXT_NODE){for(var o=1,i="";t[n+o]&&t[n+o].nodeType===Node.TEXT_NODE;)i+=t[n+o].textContent,o++;if(o>1){for(;o-- >1;)e.removeChild(t[n+1]);r.textContent+=i}n++}}}function p(e,t,n){var r=i.createElement(e);if(t)for(var o in t){var a=t[o];r.setAttribute(o,""+a)}return"string"==typeof n?r.textContent=n:n&&n.length>0&&[].slice.call(n).forEach(function(e){return r.appendChild(e)}),r}function m(){return p("br",{"data-bogus":!0})}function g(e){return p("p",null,e||[m()])}function b(e,t){var n=e&&e.parentNode;n&&(n.insertBefore(t,e),n.removeChild(e))}function w(e,t){var n=t&&t.parentNode;n&&n.insertBefore(e,t.nextSibling)}function v(e){return e&&e.nodeType===Node.TEXT_NODE}function y(e){e||(e=o||window);var t=e.pageXOffset,n=e.pageYOffset,r=e.innerHeight,i=e.innerWidth;return{left:t,top:n,height:r,width:i,right:t+i,bottom:n+r}}function k(e,t){return e.left>=t.left?3:e.right<=t.right?4:e.top>=t.top?1:e.bottom<=t.bottom?2:0}function x(e){if("scrollIntoViewIfNeeded"in e)e.scrollIntoViewIfNeeded(!1);else{for(var t=e.ownerDocument.body,n=t.ownerDocument.defaultView,r=void 0,o=e.getBoundingClientRect();void 0===r;){var i=e.parentElement,a=e===t?y(n):i.getBoundingClientRect(),l=k(a,o);if(3!==l&&1!==l||(r=!0),4!==l&&2!==l||(r=!1),e===t)break;e=i,o=a}void 0!==r&&e.scrollIntoView(r)}}function C(e,t){return function(n){var r=n.textContent.match(e);if(!r)return 0;for(var o=d(n),i=n;i!=o;){if(i.previousSibling)return 0;i=i.parentNode}var a=l().createComment("placeholder");o.parentNode.insertBefore(a,o);var s=t(r,o,n);if(!s)return 0;if(s===o)a.parentNode.removeChild(a);else{try{a.parentNode.removeChild(o)}catch(e){}b(a,s)}if(n.textContent="",!s.textContent&&!s.querySelector("br")){var u=m();n.nodeType===Node.TEXT_NODE?n.parentNode.insertBefore(u,n.nextSibling):n.appendChild(u)}return c(n),2}}var N=C(/^---+$/,function(e,t){var n=p("hr");return t.parentNode.insertBefore(n,t),t}),E=C(/^#{1,6}$/,function(e,t){return p("h"+e[0].length,null,t.childNodes)}),S=C(/^(?:>\s*)+$/,function(e,t){for(var n=0,r=e[0],o=0;o<r.length;o++)">"===r.charAt(o)&&n++;var i="li"===t.tagName.toLowerCase();i&&(t=g(t.childNodes));for(var a=t;n--;)a=p("blockquote",null,[a]);return i&&(a=p("li",null,[a])),a}),T=C(/^(\d+)[\.\)]$/,function(e,t){return p("ol",{start:e[1]},[p("li",null,t.childNodes)])}),O=C(/^[-*]$/,function(e,t){return p("ul",null,[p("li",null,t.childNodes)])}),D=C(/^```+([\w-]*)$/,function(e,t){var n=e[1],r=p("pre",null,t.childNodes);return n&&r.setAttribute("data-lang",n),r});function j(e,t,n){var r,o;if(n){if(!n.node)return null;for(r=n.node,o=n.ch;o<0;){do{r=r.previousSibling}while(r&&r.nodeType!==Node.TEXT_NODE);if(!r)return null;o+=(r=r).textContent.length}if((o=r.textContent.lastIndexOf(t,o))>-1)return{node:r,ch:o};r=r.previousSibling}else r=e[e.length-1];if(!r)return null;do{if(r.nodeType===Node.TEXT_NODE&&(o=r.textContent.lastIndexOf(t))>-1)return{node:r,ch:o}}while(r=r.previousSibling);return null}function q(e,t,n){var r=e.length;return function(o){if(!function(e){return e.nodeType===Node.TEXT_NODE&&!h(e,function(e){return/^(?:code|pre)$/i.test(e.nodeName)})}(o)||o.textContent.slice(-r)!==e)return 0;if(" "===o.textContent.slice(-r-1,-r))return 0;var i=l(),a=o.textContent.length,s=j(o.parentNode.childNodes,e,{node:o,ch:a-r-1});if(!s)return 0;var c=a-r;if(n)s.ch+=r;else{o.textContent=o.textContent.slice(0,-r);var d=s.node.textContent;s.node.textContent=d.slice(0,s.ch)+d.slice(s.ch+r),o===s.node&&(c-=r)}var _=i.createRange();_.setStart(s.node,s.ch),_.setEnd(o,c);var p=t(_);return p?(u(p),f(p.parentElement),1):0}}var $=function(e){return function(t){var n=p(e);return t.surroundContents(n),n}},L=$("code"),B=$("b"),M=$("i"),R=$("del"),z=function(e){var t=p("b"),n=p("i");return e.surroundContents(t),e.surroundContents(n),n},I=[q("`",L),q("***",z),q("___",z),q("**",B),q("__",B),q("*",M),q("_",M),q("~~",R)];var A=function(e){if(!v(e))return 0;if(")"!==e.textContent.slice(-1))return 0;var t=l(),n=e.parentElement.childNodes,r={node:e,ch:e.textContent.length-1},o=j(n,"](",r);if(!o)return 0;var i=j(n,"[",o);if(!i)return 0;var a=t.createRange();a.setStart(o.node,o.ch),a.setEnd(r.node,r.ch+1);var s=a.cloneContents().textContent.slice(2,-1).trim();if(!s)return 0;var c,d="!"===i.node.textContent.charAt(i.ch-1),_=t.createRange();if(_.setStart(i.node,i.ch+1),_.setEnd(o.node,o.ch),d)c=p("img",{src:s,alt:_.cloneContents().textContent.trim()}),_.setStart(i.node,i.ch-1),_.setEnd(r.node,r.ch+1),_.deleteContents(),_.insertNode(c);else{c=p("a",{href:s});var h=t.createRange();h.setStart(i.node,i.ch),h.setEnd(i.node,i.ch+1),h.deleteContents(),a.deleteContents(),_.surroundContents(c)}return u(c),1};var X={smile:"😄"},P={":)":"😃"};!function(e){for(var t,n=["smile:😄;laughing:😆;blush:😊;smiley:😃;relaxed:☺️;smirk:😏;heart_eyes:😍;kissing_heart:😘;kissing_closed_eyes:😚;flushed:😳;relieved:😌;satisfied:😆;grin:😁;wink:😉;stuck_out_tongue_winking_eye:😜;stuck_out_tongue_closed_eyes:😝;grinning:😀;kissing:😗;kissing_smiling_eyes:😙;stuck_out_tongue:😛;sleeping:😴;worried:😟;frowning:😦;anguished:😧;open_mouth:😮;grimacing:😬;confused:😕;hushed:😯;expressionless:😑;unamused:😒;sweat_smile:😅;sweat:😓;disappointed_relieved:😥;weary:😩;pensive:😔;disappointed:😞;confounded:😖;fearful:😨;cold_sweat:😰;persevere:😣;cry:😢;sob:😭;joy:😂;astonished:😲;scream:😱;tired_face:😫;angry:😠;rage:😡;triumph:😤;sleepy:😪;yum:😋;mask:😷;sunglasses:😎;dizzy_face:😵;imp:👿;smiling_imp:😈;neutral_face:😐;no_mouth:😶;innocent:😇;alien:👽;yellow_heart:💛;blue_heart:💙;purple_heart:💜;heart:❤️;green_heart:💚;broken_heart:💔;heartbeat:💓;heartpulse:💗;two_hearts:💕;revolving_hearts:💞;cupid:💘;sparkling_heart:💖;sparkles:✨;star:⭐️;star2:🌟;dizzy:💫;boom:💥;collision:💥;anger:💢;exclamation:❗️;question:❓;grey_exclamation:❕;grey_question:❔;zzz:💤;dash:💨;sweat_drops:💦;notes:🎶;musical_note:🎵;fire:🔥;hankey:💩;poop:💩;shit:💩;","+1:👍;thumbsup:👍;-1:👎;thumbsdown:👎;ok_hand:👌;punch:👊;facepunch:👊;fist:✊;v:✌️;wave:👋;hand:✋;raised_hand:✋;open_hands:👐;point_up:☝️;point_down:👇;point_left:👈;point_right:👉;raised_hands:🙌;pray:🙏;point_up_2:👆;clap:👏;muscle:💪;metal:🤘;fu:🖕;walking:🚶;runner:🏃;running:🏃;couple:👫;family:👪;two_men_holding_hands:👬;two_women_holding_hands:👭;dancer:💃;dancers:👯;ok_woman:🙆;no_good:🙅;information_desk_person:💁;raising_hand:🙋;bride_with_veil:👰;person_with_pouting_face:🙎;person_frowning:🙍;bow:🙇;couplekiss::couplekiss:;couple_with_heart:💑;massage:💆;haircut:💇;nail_care:💅;boy:👦;girl:👧;woman:👩;man:👨;baby:👶;older_woman:👵;older_man:👴;person_with_blond_hair:👱;man_with_gua_pi_mao:👲;man_with_turban:👳;construction_worker:👷;cop:👮;angel:👼;princess:👸;smiley_cat:😺;smile_cat:😸;heart_eyes_cat:😻;kissing_cat:😽;smirk_cat:😼;scream_cat:🙀;crying_cat_face:😿;joy_cat:😹;pouting_cat:😾;japanese_ogre:👹;japanese_goblin:👺;see_no_evil:🙈;hear_no_evil:🙉;speak_no_evil:🙊;guardsman:💂;skull:💀;feet:🐾;lips:👄;kiss:💋;droplet:💧;ear:👂;eyes:👀;nose:👃;tongue:👅;love_letter:💌;bust_in_silhouette:👤;busts_in_silhouette:👥;speech_balloon:💬;","thought_balloon:💭;sunny:☀️;umbrella:☔️;cloud:☁️;snowflake:❄️;snowman:⛄️;zap:⚡️;cyclone:🌀;foggy:🌁;ocean:🌊;cat:🐱;dog:🐶;mouse:🐭;hamster:🐹;rabbit:🐰;wolf:🐺;frog:🐸;tiger:🐯;koala:🐨;bear:🐻;pig:🐷;pig_nose:🐽;cow:🐮;boar:🐗;monkey_face:🐵;monkey:🐒;horse:🐴;racehorse:🐎;camel:🐫;sheep:🐑;elephant:🐘;panda_face:🐼;snake:🐍;bird:🐦;baby_chick:🐤;hatched_chick:🐥;hatching_chick:🐣;chicken:🐔;penguin:🐧;turtle:🐢;bug:🐛;honeybee:🐝;ant:🐜;beetle:🐞;snail:🐌;octopus:🐙;tropical_fish:🐠;fish:🐟;whale:🐳;whale2:🐋;dolphin:🐬;cow2:🐄;ram:🐏;rat:🐀;water_buffalo:🐃;tiger2:🐅;rabbit2:🐇;dragon:🐉;goat:🐐;rooster:🐓;dog2:🐕;pig2:🐖;mouse2:🐁;ox:🐂;dragon_face:🐲;blowfish:🐡;crocodile:🐊;dromedary_camel:🐪;leopard:🐆;cat2:🐈;poodle:🐩;paw_prints:🐾;bouquet:💐;cherry_blossom:🌸;tulip:🌷;four_leaf_clover:🍀;rose:🌹;sunflower:🌻;hibiscus:🌺;maple_leaf:🍁;leaves:🍃;fallen_leaf:🍂;herb:🌿;mushroom:🍄;cactus:🌵;palm_tree:🌴;evergreen_tree:🌲;deciduous_tree:🌳;chestnut:🌰;seedling:🌱;blossom:🌼;ear_of_rice:🌾;shell:🐚;globe_with_meridians:🌐;sun_with_face:🌞;full_moon_with_face:🌝;new_moon_with_face:🌚;new_moon:🌑;waxing_crescent_moon:🌒;first_quarter_moon:🌓;waxing_gibbous_moon:🌔;full_moon:🌕;waning_gibbous_moon:🌖;last_quarter_moon:🌗;waning_crescent_moon:🌘;last_quarter_moon_with_face:🌜;","first_quarter_moon_with_face:🌛;moon:🌔;earth_africa:🌍;earth_americas:🌎;earth_asia:🌏;volcano:🌋;milky_way:🌌;partly_sunny:⛅️;bamboo:🎍;gift_heart:💝;dolls:🎎;school_satchel:🎒;mortar_board:🎓;flags:🎏;fireworks:🎆;sparkler:🎇;wind_chime:🎐;rice_scene:🎑;jack_o_lantern:🎃;ghost:👻;santa:🎅;christmas_tree:🎄;gift:🎁;bell:🔔;no_bell:🔕;tanabata_tree:🎋;tada:🎉;confetti_ball:🎊;balloon:🎈;crystal_ball:🔮;cd:💿;dvd:📀;floppy_disk:💾;camera:📷;video_camera:📹;movie_camera:🎥;computer:💻;tv:📺;iphone:📱;phone:☎️;telephone:☎️;telephone_receiver:📞;pager:📟;fax:📠;minidisc:💽;vhs:📼;sound:🔉;speaker:🔈;mute:🔇;loudspeaker:📢;mega:📣;hourglass:⌛️;hourglass_flowing_sand:⏳;alarm_clock:⏰;watch:⌚️;radio:📻;satellite:📡;loop:➿;mag:🔍;mag_right:🔎;unlock:🔓;lock:🔒;lock_with_ink_pen:🔏;closed_lock_with_key:🔐;key:🔑;bulb:💡;flashlight:🔦;high_brightness:🔆;low_brightness:🔅;electric_plug:🔌;battery:🔋;calling:📲;email:✉️;mailbox:📫;postbox:📮;bath:🛀;bathtub:🛁;shower:🚿;toilet:🚽;wrench:🔧;nut_and_bolt:🔩;hammer:🔨;seat:💺;moneybag:💰;yen:💴;dollar:💵;pound:💷;euro:💶;","credit_card:💳;money_with_wings:💸;e-mail:📧;inbox_tray:📥;outbox_tray:📤;envelope:✉️;incoming_envelope:📨;postal_horn:📯;mailbox_closed:📪;mailbox_with_mail:📬;mailbox_with_no_mail:📭;door:🚪;smoking:🚬;bomb:💣;gun:🔫;hocho:🔪;pill:💊;syringe:💉;page_facing_up:📄;page_with_curl:📃;bookmark_tabs:📑;bar_chart:📊;chart_with_upwards_trend:📈;chart_with_downwards_trend:📉;scroll:📜;clipboard:📋;calendar:📆;date:📅;card_index:📇;file_folder:📁;open_file_folder:📂;scissors:✂️;pushpin:📌;paperclip:📎;black_nib:✒️;pencil2:✏️;straight_ruler:📏;triangular_ruler:📐;closed_book:📕;green_book:📗;blue_book:📘;orange_book:📙;notebook:📓;notebook_with_decorative_cover:📔;ledger:📒;books:📚;bookmark:🔖;name_badge:📛;microscope:🔬;telescope:🔭;newspaper:📰;football:🏈;basketball:🏀;soccer:⚽️;baseball:⚾️;tennis:🎾;8ball:🎱;","rugby_football:🏉;bowling:🎳;golf:⛳️;mountain_bicyclist:🚵;bicyclist:🚴;horse_racing:🏇;snowboarder:🏂;swimmer:🏊;surfer:🏄;ski:🎿;spades:♠️;hearts:♥️;clubs:♣️;diamonds:♦️;gem:💎;ring:💍;trophy:🏆;musical_score:🎼;musical_keyboard:🎹;violin:🎻;space_invader:👾;video_game:🎮;black_joker:🃏;flower_playing_cards:🎴;game_die:🎲;dart:🎯;mahjong:🀄️;clapper:🎬;memo:📝;pencil:📝;book:📖;art:🎨;microphone:🎤;headphones:🎧;trumpet:🎺;saxophone:🎷;guitar:🎸;shoe:👞;sandal:👡;high_heel:👠;lipstick:💄;boot:👢;shirt:👕;tshirt:👕;necktie:👔;womans_clothes:👚;dress:👗;running_shirt_with_sash:🎽;jeans:👖;kimono:👘;bikini:👙;ribbon:🎀;tophat:🎩;crown:👑;womans_hat:👒;mans_shoe:👞;closed_umbrella:🌂;briefcase:💼;handbag:👜;pouch:👝;purse:👛;eyeglasses:👓;fishing_pole_and_fish:🎣;coffee:☕️;tea:🍵;sake:🍶;baby_bottle:🍼;beer:🍺;beers:🍻;cocktail:🍸;tropical_drink:🍹;wine_glass:🍷;fork_and_knife:🍴;pizza:🍕;hamburger:🍔;fries:🍟;poultry_leg:🍗;meat_on_bone:🍖;spaghetti:🍝;curry:🍛;fried_shrimp:🍤;bento:🍱;sushi:🍣;fish_cake:🍥;rice_ball:🍙;rice_cracker:🍘;rice:🍚;","ramen:🍜;stew:🍲;oden:🍢;dango:🍡;egg:🥚;bread:🍞;doughnut:🍩;custard:🍮;icecream:🍦;ice_cream:🍨;shaved_ice:🍧;birthday:🎂;cake:🍰;cookie:🍪;chocolate_bar:🍫;candy:🍬;lollipop:🍭;honey_pot:🍯;apple:🍎;green_apple:🍏;tangerine:🍊;lemon:🍋;cherries:🍒;grapes:🍇;watermelon:🍉;strawberry:🍓;peach:🍑;melon:🍈;banana:🍌;pear:🍐;pineapple:🍍;sweet_potato:🍠;eggplant:🍆;tomato:🍅;corn:🌽;house:🏠;house_with_garden:🏡;school:🏫;office:🏢;post_office:🏣;hospital:🏥;bank:🏦;convenience_store:🏪;love_hotel:🏩;hotel:🏨;wedding:💒;church:⛪️;department_store:🏬;european_post_office:🏤;city_sunrise:🌇;city_sunset:🌆;japanese_castle:🏯;european_castle:🏰;tent:⛺️;factory:🏭;tokyo_tower:🗼;japan:🗾;mount_fuji:🗻;sunrise_over_mountains:🌄;sunrise:🌅;stars:🌠;statue_of_liberty:🗽;bridge_at_night:🌉;carousel_horse:🎠;rainbow:🌈;ferris_wheel:🎡;fountain:⛲️;roller_coaster:🎢;ship:🚢;speedboat:🚤;boat:⛵️;sailboat:⛵️;rowboat:🚣;anchor:⚓️;rocket:🚀;airplane:✈️;helicopter:🚁;steam_locomotive:🚂;tram:🚊;mountain_railway:🚞;bike:🚲;aerial_tramway:🚡;suspension_railway:🚟;","mountain_cableway:🚠;tractor:🚜;blue_car:🚙;oncoming_automobile:🚘;car:🚗;red_car:🚗;taxi:🚕;oncoming_taxi:🚖;articulated_lorry:🚛;bus:🚌;oncoming_bus:🚍;rotating_light:🚨;police_car:🚓;oncoming_police_car:🚔;fire_engine:🚒;ambulance:🚑;minibus:🚐;truck:🚚;train:🚋;station:🚉;train2:🚆;bullettrain_front:🚅;bullettrain_side:🚄;light_rail:🚈;monorail:🚝;railway_car:🚃;trolleybus:🚎;ticket:🎫;fuelpump:⛽️;vertical_traffic_light:🚦;traffic_light:🚥;warning:⚠️;construction:🚧;beginner:🔰;atm:🏧;slot_machine:🎰;busstop:🚏;barber:💈;hotsprings:♨️;checkered_flag:🏁;crossed_flags:🎌;izakaya_lantern:🏮;moyai:🗿;circus_tent:🎪;performing_arts:🎭;round_pushpin:📍;triangular_flag_on_post:🚩;jp:🇯🇵;kr:🇰🇷;cn:🇨🇳;us:🇺🇸;fr:🇫🇷;es:🇪🇸;it:🇮🇹;ru:🇷🇺;gb:🇬🇧;uk:🇬🇧;de:🇩🇪;one:1️⃣;two:2️⃣;three:3️⃣;four:4️⃣;five:5️⃣;six:6️⃣;seven:7️⃣;eight:8️⃣;nine:9️⃣;keycap_ten:🔟;","1234:🔢;zero:0️⃣;hash:#️⃣;symbols:🔣;arrow_backward:◀️;arrow_down:⬇️;arrow_forward:▶️;arrow_left:⬅️;capital_abcd:🔠;abcd:🔡;abc:🔤;arrow_lower_left:↙️;arrow_lower_right:↘️;arrow_right:➡️;arrow_up:⬆️;arrow_upper_left:↖️;arrow_upper_right:↗️;arrow_double_down:⏬;arrow_double_up:⏫;arrow_down_small:🔽;arrow_heading_down:⤵️;arrow_heading_up:⤴️;leftwards_arrow_with_hook:↩️;arrow_right_hook:↪️;left_right_arrow:↔️;arrow_up_down:↕️;arrow_up_small:🔼;arrows_clockwise:🔃;arrows_counterclockwise:🔄;rewind:⏪;fast_forward:⏩;information_source:ℹ️;ok:🆗;twisted_rightwards_arrows:🔀;repeat:🔁;repeat_one:🔂;new:🆕;top:🔝;up:🆙;cool:🆒;free:🆓;ng:🆖;cinema:🎦;koko:🈁;signal_strength:📶;u5272:🈹;u5408:🈴;u55b6:🈺;u6307:🈯️;u6708:🈷️;u6709:🈶;u6e80:🈵;u7121:🈚️;u7533:🈸;u7a7a:🈳;u7981:🈲;sa:🈂️;restroom:🚻;mens:🚹;womens:🚺;baby_symbol:🚼;no_smoking:🚭;","parking:🅿️;wheelchair:♿️;metro:🚇;baggage_claim:🛄;accept:🉑;wc:🚾;potable_water:🚰;put_litter_in_its_place:🚮;secret:㊙️;congratulations:㊗️;m:Ⓜ️;passport_control:🛂;left_luggage:🛅;customs:🛃;ideograph_advantage:🉐;cl:🆑;sos:🆘;id:🆔;no_entry_sign:🚫;underage:🔞;no_mobile_phones:📵;do_not_litter:🚯;non-potable_water:🚱;no_bicycles:🚳;no_pedestrians:🚷;children_crossing:🚸;no_entry:⛔️;eight_spoked_asterisk:✳️;eight_pointed_black_star:✴️;heart_decoration:💟;vs:🆚;vibration_mode:📳;mobile_phone_off:📴;chart:💹;currency_exchange:💱;aries:♈️;taurus:♉️;gemini:♊️;cancer:♋️;leo:♌️;virgo:♍️;libra:♎️;scorpius:♏️;","sagittarius:♐️;capricorn:♑️;aquarius:♒️;pisces:♓️;ophiuchus:⛎;six_pointed_star:🔯;negative_squared_cross_mark:❎;a:🅰️;b:🅱️;ab:🆎;o2:🅾️;diamond_shape_with_a_dot_inside:💠;recycle:♻️;end:🔚;on:🔛;soon:🔜;clock1:🕐;clock130:🕜;clock10:🕙;clock1030:🕥;clock11:🕚;clock1130:🕦;clock12:🕛;clock1230:🕧;clock2:🕑;clock230:🕝;clock3:🕒;clock330:🕞;clock4:🕓;clock430:🕟;clock5:🕔;clock530:🕠;clock6:🕕;clock630:🕡;clock7:🕖;clock730:🕢;clock8:🕗;clock830:🕣;clock9:🕘;clock930:🕤;heavy_dollar_sign:💲;copyright:©️;registered:®️;tm:™️;x:❌;heavy_exclamation_mark:❗️;bangbang:‼️;interrobang:⁉️;o:⭕️;heavy_multiplication_x:✖️;","heavy_plus_sign:➕;heavy_minus_sign:➖;heavy_division_sign:➗;white_flower:💮;100:💯;heavy_check_mark:✔️;ballot_box_with_check:☑️;radio_button:🔘;link:🔗;curly_loop:➰;wavy_dash:〰️;part_alternation_mark:〽️;trident:🔱;black_square::black_square:;white_square::white_square:;white_check_mark:✅;black_square_button:🔲;white_square_button:🔳;black_circle:⚫️;white_circle:⚪️;red_circle:🔴;large_blue_circle:🔵;large_blue_diamond:🔷;large_orange_diamond:🔶;small_blue_diamond:🔹;small_orange_diamond:🔸;small_red_triangle:🔺;small_red_triangle_down:🔻"],r=/([^:]+):([^;]+);/g,o=0;o<n.length;o++)for(r.lastIndex=0;t=r.exec(n[o]);)e[t[1]]=t[2]}(X),function(e,t){var n={angry:[">:(",">:-("],blush:[':")',':-")'],broken_heart:["</3","<\\3"],confused:[":/",":-/",":\\",":-\\"],cry:[":'(",":'-(",":,(",":,-("],frowning:[":(",":-("],heart:["<3"],two_hearts:["<3<3"],imp:["]:(","]:-("],innocent:["o:)","O:)","o:-)","O:-)","0:)","0:-)"],joy:[":')",":'-)",":,)",":,-)",":'D",":'-D",":,D",":,-D"],kissing:[":*",":-*"],laughing:["x-)","X-)"],neutral:[":|",":-|"],open_mouth:[":o",":-o",":O",":-O"],rage:[":@",":-@"],smile:[":D",":-D"],smiley:[":)",":-)"],smiling_imp:["]:)","]:-)"],sob:[":,'(",":,'-(",";(",";-("],tongue:[":P",":-P"],sunglasses:["8-)","B-)"],sweat:[",:(",",:-("],unamused:[":s",":-S",":z",":-Z",":$",":-$"],wink:[";)",";-)"]},r=function(r){var o=t[r];if(!o)return"continue";n[r].forEach(function(t){e[t]=o})};for(var o in n)r(o)}(P,X);var H=F;function K(){return H}function V(e){H=e||F}function F(e,t){return p("img",{src:"http://latex.codecogs.com/gif.latex?"+encodeURIComponent(e),alt:e,title:e,"data-formula":e})}var U=[E,N,S,T,O,D].concat(I,[A,function(e){if(e.nodeType!==Node.TEXT_NODE)return 0;var t=e.textContent,n=null,r=0;for(var o in P)if(t.slice(-o.length)===o){n=P[o],r=o.length;break}if(!n){var i=t.match(/:([^:]+):$/);(n=i&&X[i[1]])&&(r=i[0].length)}return n?(e.textContent=t.slice(0,-r)+n,u(e),1):0},function(e){if(e.nodeType!==Node.TEXT_NODE)return 0;var t=e.textContent,n=t.match(/(\${1,2})([^\$]+)\1$/);if(!n)return 0;var r=n[2],o=2==n[1].length,i=H(r,o);return i?(e.textContent=t.slice(0,-n[0].length),w(i,e),u(i),1):0}]);function W(e){e.addEventListener("keydown",function(e){try{if(!(function(e){var t=e.ctrlKey,n=e.shiftKey,r=e.altKey,o=e.which,i=l();if(!t||n||r||73!=o)if(!t||n||r||66!=o)if(!t||n||r||85!=o)if(t&&n&&!r&&61==o)i.execCommand("superscript");else if(!t||n||r||61!=o)if(!t||n||r||76!=o)if(!t||n||r||69!=o){if(!t||n||r||82!=o)return!1;i.execCommand("justifyRight")}else i.execCommand("justifyCenter");else i.execCommand("justifyLeft");else i.execCommand("subscript");else i.execCommand("underline");else i.execCommand("bold");else i.execCommand("italic");return!0}(e)||function(e){var t=e.ctrlKey,n=e.shiftKey,r=e.altKey,o=e.which;if(t||n||r)return!1;var i=l().getSelection();if(i.isCollapsed)return!1;var a=i.focusNode;a.nodeType===Node.ELEMENT_NODE&&(a=a.childNodes[i.focusOffset]||a);var s=i.getRangeAt(0);if(192!==o)return!1;var c=h(a,function(e){return"code"===e.nodeName.toLowerCase()});if(c){var d=c.lastChild;_(c),u(d)}else u(c=L(s));return!0}(e)||function(e){var t=e.keyCode||e.which,n=!(e.shiftKey||e.ctrlKey||e.altKey);if(8!==t&&45!==t&&46!==t&&9!==t&&13!==t&&(t<37||t>40))return!1;var r=l().getSelection();if(!r.isCollapsed)return!1;var o=h(r.focusNode,function(e){return/^t[dh]$/i.test(e.nodeName)}),i=h(o,function(e){return/^tr$/i.test(e.nodeName)}),a=h(i,function(e){return/^table$/i.test(e.nodeName)});if(!o||!i||!a)return!1;for(var s=0,u=i.childElementCount;s<u&&i.children[s]!==o;)s++;if(s>=u)return!1;var d=null;function _(){n&&!i.textContent.trim()&&((d=i.nextElementSibling||a.nextElementSibling)?d.firstElementChild&&(d=d.firstElementChild):w(d=g(),a),i.parentElement.removeChild(i))}function f(e){for(var t=p("tr"),n=0;n<i.childNodes.length;n++)t.appendChild(p("td"));(d=t.children[e||0]||t.firstElementChild).appendChild(m()),w(t,i)}switch(t){case 13:n&&(""===i.textContent.trim()?_():f(s));break;case 46:case 8:n&&"TH"===o.nodeName&&!o.textContent.trim()?(d=46===t&&o.nextElementSibling||o.previousElementSibling)?function(){for(var e=a.querySelectorAll("tr"),t=0;t<e.length;t++){var n=e[t],r=n.children[s];n.removeChild(r)}}():(d=a.nextElementSibling)?a.parentElement.removeChild(a):b(a,d=g()):_();break;case 45:!function(){e.shiftKey||s++;for(var t=a.querySelectorAll("tr"),n=0;n<t.length;n++){var r=t[n],o=r.children[s],l=p(o.nodeName,null,[m()]);r.insertBefore(l,o)}d=i.children[s]}();break;case 9:n?(d=o.nextElementSibling||i.nextElementSibling&&i.nextElementSibling.firstElementChild)||f():e.shiftKey&&(d=o.previousElementSibling||i.previousElementSibling&&i.previousElementSibling.lastElementChild||a.previousElementSibling);break;case 38:n&&(d=i.previousElementSibling&&i.previousElementSibling.children[s]||a.previousElementSibling);break;case 40:n&&(d=i.nextElementSibling&&i.nextElementSibling.children[s]||a.nextElementSibling)}return!!d&&(c(d),e.preventDefault(),!0)}(e)))return}catch(e){return}e.preventDefault(),e.stopPropagation()},!1)}var G,Y=function(e,t){if("pre"===t.nodeName.toLowerCase()){var n=t,r=e.textContent.match(/(^|[\r\n])```+$/);return!!r&&(e.textContent=e.textContent.slice(0,-r[0].length),e.nextSibling&&"br"===e.nextSibling.nodeName.toLowerCase()&&e.parentNode.removeChild(e.nextSibling),e.previousSibling&&"br"===e.previousSibling.nodeName.toLowerCase()&&e.parentNode.removeChild(e.previousSibling),m(),w(i=g(),n),c(i),!0)}if(t.textContent||t.querySelector("img,video,audio,object"))return!1;var o=t.parentNode;if(!/^(?:ul|ol|blockquote)$/i.test(o.nodeName))return!1;var i,a=o.parentNode;a.insertBefore(t,o.nextSibling),0==o.childNodes.length&&a.removeChild(o),/^(?:ul|ol)$/i.test(a.nodeName)||"li"!==t.nodeName.toLowerCase()||(b(t,i=g(t.childNodes)),t=i);var l=t.querySelector("br");return l||(l=m(),e.appendChild(l)),c(l.parentNode),!0};!function(e){e[e.Hidden=0]="Hidden",e[e.Shown=1]="Shown",e[e.Hiding=2]="Hiding"}(G||(G={}));var Z=function(){function e(t,n){this.status=G.Hidden,this.document=t;var r=t.createElement("div");r.setAttribute("style",e.style),r.textContent=n,r.addEventListener("mousedown",this.dismiss.bind(this),!1),this.element=r}return e.prototype.setPosition=function(e,t,n){var r=this.element;r.style.left=e+"px",r.style.top=n?"initial":t+"px",r.style.bottom=n&&t+"px"||"initial"},e.prototype.show=function(e){var t=this,n=this.element,r=this.dismiss.bind(this);n.parentElement||this.document.body.appendChild(n),setTimeout(function(){t.status=G.Shown,n.style.opacity="1",n.style.marginTop="0",e&&setTimeout(r,e)},10)},e.prototype.dismiss=function(){var e=this;if(this.status===G.Shown){this.status=G.Hiding;var t=this.element;t.style.opacity="0",t.style.marginTop="-10px",setTimeout(function(){t.parentNode.removeChild(t),e.status=G.Hidden},300)}},e.showToast=function(t,n,r,o){var i=n.ownerDocument,a=n.getBoundingClientRect&&n.getBoundingClientRect()||{left:0,top:0},l=new e(i,t),s=a.left+i.body.scrollLeft,c=a.top+i.body.scrollTop;return l.setPosition(s,c,!o),l.show(r),l},e.SHORT=1500,e.LONG=3500,e.style="\nposition: absolute;\nfont-family: sans-serif;\npadding: 5px 10px;\nbackground: #e4F68F;\nfont-size: 10pt;\nline-height: 1.4em;\ncolor: #000;\nz-index: 32760;\nmargin-top: -10px;\ntransition: .2s ease;\nopacity: 0;\n",e}();
/*!
 * MarkdownIME by laobubu
 * @url https://github.com/laobubu/MarkdownIME
 */
function J(e){for(var t=e.document,n=t.querySelectorAll("[contenteditable], [designMode]"),r=[],o=0;o<n.length;o++){var i=n[o],a=i.getBoundingClientRect();a.height>10&&a.width>10&&r.push(i)}return[].forEach.call(t.querySelectorAll("iframe"),function(e){try{var t=J(e.contentWindow);r.push.apply(r,t)}catch(e){}}),r}function Q(e,t){if("length"in e){for(var n=[],r=0;r<e.length;r++)n.push(te(e[r],t));return n}return te(e,t)}function ee(e,t){var n={successToast:!0};if(t)for(var r in t)n[r]=t[r];Q(J(e||window),n)}function te(e,t){t||(t={}),"noShortkey"in t||(t.noShortkey="tinymce"===e.id||/\bql-editor\b/.test(e.className)),t.noShortkey||W(e);var n=e.ownerDocument,r=function(t){a(n);var r=s();if(!r)return 0;if(e===r)r=g(),e.appendChild(r),c(r);else if(r.nodeType===Node.TEXT_NODE&&r.parentNode===e){var o=n.createComment("placeholder");b(r,o),b(o,y=g([r])),c(r)}for(var i=0;i<U.length;i++){var _=(0,U[i])(r);if(0!==_)return _}if(t){var f=!!h(r,function(e){return"pre"===e.nodeName.toLowerCase()}),y=d(r),k=Y(r,y);if(f||k||(k=function(e,t){if("pre"===t.nodeName.toLowerCase()){if(!/chrome|webkit/i.test(navigator.userAgent))return!1;var n=e.nextSibling;if(n&&"br"===n.nodeName.toLowerCase())w(m(),n),u(n);else{var r=m();w(r,e),w(m(),r),u(r)}return!0}return!1}(r,y)||function(e,t){var n=t.childNodes,r=n[0],o=n[n.length-1];if(o&&"br"===o.nodeName.toLowerCase()&&(t.removeChild(o),o=n[n.length-1]),!v(r)||!v(o))return!1;if(!/^\s*\|/.test(r.textContent)||!/\|\s*$/.test(o.textContent))return!1;var i=[],a=null;function s(){a&&a.childNodes.length>0&&i.push(a),a=p("th")}for(s();n.length>0;){var u=n[0];v(u)?(u.textContent.split("|").forEach(function(e,t){t>0&&s(),/^\s*$/.test(e)||a.appendChild(l().createTextNode(e))}),t.removeChild(u)):a.appendChild(u)}if(s(),0==i.length)return!1;var d=p("tr",null,i),_=p("tr",null,i.map(function(){return p("td")})),h=p("table",null,[d,_]),f=_.childNodes[0];return f.appendChild(m()),b(t,h),c(f),!0}(0,y)),k)return 2}return 0};return e.addEventListener("keypress",function(e){32!==e.which&&13!==e.which||2===r(13===e.which)&&e.preventDefault()},!1),t.successToast&&Z.showToast("MarkdownIME loaded",e,Z.SHORT,!0),{editor:e,document:n,doTransform:r}}n.d(t,"Scan",function(){return J}),n.d(t,"Enhance",function(){return Q}),n.d(t,"Bookmarklet",function(){return ee}),n.d(t,"DOM",function(){return r}),n.d(t,"getContextDocument",function(){return l}),n.d(t,"setContextDocument",function(){return a}),n.d(t,"elt",function(){return p}),n.d(t,"Toast",function(){return Z}),n.d(t,"ToastStatus",function(){return G}),n.d(t,"emoticonDict",function(){return P}),n.d(t,"emojiDict",function(){return X}),n.d(t,"getMathRenderer",function(){return K}),n.d(t,"setMathRenderer",function(){return V})}])});
//# sourceMappingURL=MarkdownIME.js.map